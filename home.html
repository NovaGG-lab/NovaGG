<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>NovaGG - Home</title>
<link rel="stylesheet" href="style.css" />
<style>
  body {
    margin: 0; padding: 0;
    font-family: 'Segoe UI', sans-serif;
    background: #000; color: #fff;
    display: flex; flex-direction: column; height: 100vh;
  }
  header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 20px;
    background: #111;
    height: 60px;
    position: relative;
    z-index: 10;
  }
  /* Top center tab container */
  #topTabs {
    display: flex;
    gap: 20px;
  }
  .tab-button {
    position: relative;
    background: #222;
    border: none;
    color: #fff;
    padding: 8px 16px;
    cursor: pointer;
    border-radius: 8px 8px 0 0;
    font-weight: bold;
    transition: background 0.3s ease;
  }
  .tab-button:hover {
    background: #444;
  }
  .dropdown-content {
    display: none;
    position: absolute;
    top: 100%; left: 0;
    background: #222;
    min-width: 200px;
    padding: 15px;
    border-radius: 0 0 8px 8px;
    box-shadow: 0 5px 10px rgba(0,0,0,0.7);
    z-index: 20;
  }
  .tab-button.active + .dropdown-content {
    display: block;
  }

  /* PFP + username top right */
  #userProfile {
    display: flex;
    align-items: center;
    gap: 10px;
    cursor: pointer;
  }
  #userProfile img {
    width: 40px; height: 40px;
    border-radius: 50%;
    border: 2px solid #0f0;
  }
  #userProfile span {
    font-weight: 700;
  }

  /* Left middle game list */
  #gamesList {
    flex-grow: 1;
    width: 250px;
    background: #111;
    overflow-y: auto;
    padding: 20px;
    margin: 20px;
    border-radius: 12px;
  }
  #gamesList h2 {
    margin-top: 0;
    font-weight: 700;
    border-bottom: 2px solid #0f0;
    padding-bottom: 10px;
  }
  .game-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 10px 8px;
    background: #222;
    margin-bottom: 12px;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  .game-item:hover {
    background: #0f0;
    color: #000;
  }
  .game-icon {
    width: 50px;
    height: 50px;
    border-radius: 8px;
    object-fit: cover;
  }
  .game-name {
    font-weight: 600;
  }

  /* Bottom copyright */
  footer {
    text-align: center;
    padding: 10px 0;
    font-size: 0.9rem;
    background: #111;
    color: #666;
  }
</style>
</head>
<body>

<header>
  <div id="topTabs">
    <button class="tab-button" id="settingsBtn">Settings</button>
    <div class="dropdown-content" id="settingsDropdown">
      <p><strong>Settings Content Here</strong></p>
      <p>(Add your settings form etc.)</p>
    </div>

    <button class="tab-button" id="viewProfileBtn">View Profile</button>
    <div class="dropdown-content" id="viewProfileDropdown">
      <p><strong>Profile Content Here</strong></p>
      <p>(User info, stats, etc.)</p>
    </div>

    <button class="tab-button" id="createGameBtn">Create Game</button>
    <div class="dropdown-content" id="createGameDropdown">
      <form id="createGameForm">
        <label>Game Icon URL</label><br />
        <input type="text" id="gameIcon" placeholder="Icon URL" required /><br />
        <label>Game Name</label><br />
        <input type="text" id="gameName" placeholder="Name" required /><br />
        <label>Game Description</label><br />
        <textarea id="gameDesc" placeholder="Description" rows="3" required></textarea><br />
        <button type="submit">Create Game</button>
      </form>
    </div>
  </div>

  <div id="userProfile">
    <img src="https://via.placeholder.com/40" alt="PFP" id="userPFP" />
    <span id="usernameDisplay">Username</span>
  </div>
</header>

<div style="display:flex; flex-grow: 1;">
  <aside id="gamesList">
    <h2>Games</h2>
    <!-- Games will be inserted here dynamically -->
  </aside>
  <main id="gameDetails" style="flex-grow: 1; padding: 20px; color: #eee;">
    <h2>Game Details</h2>
    <p>Select a game to see its description.</p>
  </main>
</div>

<footer>
  &copy; 2025 NovaGG - All rights reserved
</footer>

<script>
  // Dropdown toggle logic
  const tabs = document.querySelectorAll(".tab-button");
  tabs.forEach(tab => {
    tab.addEventListener("click", () => {
      const isActive = tab.classList.contains("active");
      // Close all
      tabs.forEach(t => t.classList.remove("active"));
      document.querySelectorAll(".dropdown-content").forEach(drop => drop.style.display = "none");

      if (!isActive) {
        tab.classList.add("active");
        tab.nextElementSibling.style.display = "block";
      }
    });
  });

  // Sample games data â€” replace with your Firebase fetch and filter
  const games = [
    { id: 'game1', icon: 'https://via.placeholder.com/50', name: 'Game One', desc: 'First game description', show: true },
    { id: 'game2', icon: 'https://via.placeholder.com/50', name: 'Hidden Game', desc: 'This should not show', show: false },
    { id: 'game3', icon: 'https://via.placeholder.com/50', name: 'Game Two', desc: 'Second game description', show: true },
  ];

  // Filter games that should be shown
  const visibleGames = games.filter(g => g.show);

  const gamesList = document.getElementById("gamesList");
  const gameDetails = document.getElementById("gameDetails");

  // Populate games list
  visibleGames.forEach(game => {
    const gameItem = document.createElement("div");
    gameItem.classList.add("game-item");
    gameItem.innerHTML = `
      <img src="${game.icon}" alt="${game.name} Icon" class="game-icon" />
      <div class="game-name">${game.name}</div>
    `;
    gameItem.addEventListener("click", () => {
      gameDetails.innerHTML = `<h2>${game.name}</h2><p>${game.desc}</p>`;
    });
    gamesList.appendChild(gameItem);
  });

  // Populate username & PFP from session or Firebase user info
  // Replace with your actual data fetch:
  document.getElementById("usernameDisplay").textContent = "YourUsername"; 
  // PFP default already set, update src if user has custom one

  // Handle game creation form submit
  document.getElementById("createGameForm").addEventListener("submit", e => {
    e.preventDefault();
    alert("Game creation functionality to be implemented.");
  });
</script>

</body>
</html>
